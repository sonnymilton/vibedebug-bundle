services:
    vibedebug.data_collector:
        class: Milton\VibedebugBundle\DataCollector\VibedebugDataCollector
        arguments:
            $agents: !tagged_iterator ai.agent
        tags:
            - { name: 'data_collector', template: '@Vibedebug/data_collector/collector.html.twig', id: 'vibedebug' }

    vibedebug.agent_registry:
        class: Milton\VibedebugBundle\Agent\AgentRegistry
        arguments:
            $agents: !tagged_iterator ai.agent

    vibedebug.controller:
        class: Milton\VibedebugBundle\Controller\VibedebugController
        arguments:
            $agentRegistry: '@vibedebug.agent_registry'
            $profiler: '@profiler'
            $twig: '@twig'
        tags:
            - { name: 'controller.service_arguments' }
